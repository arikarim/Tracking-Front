(this.webpackJsonpok=this.webpackJsonpok||[]).push([[0],{106:function(e,t,a){},130:function(e,t,a){},133:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(23),s=a.n(c),o=(a(106),a(13)),l=a(9),i=a.n(l),u=a(16),d=a(10),b=a(19),j=a.n(b),m=a(3),p=a(168),f=a(15),h=a(8),x=a(158),O=a(91),g=a(167),v=a(62),N=a(89),y=a(90),S=a(72),k=a(157),w=a(69),J=(a(129),a(130),a(87)),L=a.n(J),A=a(2);function I(e){var t=e.turns,a=e.style;return Object(A.jsx)("div",{style:{position:"absolute",height:"100%",transform:"rotate(".concat(t,"turn)")},children:Object(A.jsx)("div",{style:a})})}var C=function(e){var t=1/e.count;return L.a.range(e.count).map((function(a){return Object(A.jsx)(I,{turns:a*t,style:e.style},a)}))},T=function(e){var t=e.number,a=e.time;return Object(A.jsxs)(k.a,{className:"pro p-3",children:[Object(A.jsxs)("h4",{className:"text-center",children:["Your achivement for"," ".concat(a)]}),Object(A.jsx)("div",{className:"mx-auto",style:{width:200,height:200},children:Object(A.jsx)(w.a,{value:t&&t,text:"".concat("NaN"!==t?t:0,"%"),strokeWidth:10,styles:Object(w.b)({strokeLinecap:"butt"}),children:Object(A.jsx)(C,{count:12,style:{background:"#fff",width:"2px",height:"".concat(10,"%")}})})})]})},E=function(){var e=Object(o.c)((function(e){return e.measure})),t=r.a.useState(null),a=Object(d.a)(t,2),c=a[0],s=a[1],l=Object(h.g)(),i=JSON.parse(localStorage.getItem("user")),u=Object(o.c)((function(e){return e.measurments})),b=u[0]?u[0].reduce((function(e,t){return e+t.number}),0):0;Object(n.useEffect)((function(){!function(){if(u[0]&&null!==i){var e=u[0].filter((function(e){return e.user_id===i.id})),t=e.reduce((function(e,t){return e+t.number}),0);s(t/e.length)}}()}),[b]);var j=function(e){switch(e){case 1:return Object(A.jsx)(N.a,{className:"fs-1"});case 2:return Object(A.jsx)(v.a,{className:"fs-1"});case 3:return Object(A.jsx)(v.b,{className:"fs-1"});case 4:return Object(A.jsx)(y.a,{className:"fs-1"});case 5:return Object(A.jsx)(S.a,{className:"fs-1"});case 6:return Object(A.jsx)(S.b,{className:"fs-1"});default:return Object(A.jsx)(v.b,{className:"fs-1"})}},m=JSON.parse(localStorage.getItem("token")),p=JSON.parse(localStorage.getItem("valid"));return""!==m&&"invalid"!==p||l.push("/login"),Object(A.jsxs)(x.a,{fluid:!0,className:"cont",children:[Object(A.jsx)(T,{number:null===c?0:c.toFixed(2),time:"last month"}),Object(A.jsx)(O.a,{className:"d-flex flex-wrap",children:e[0]&&null!==i&&e[0].map((function(t){return Object(A.jsx)(f.b,{className:"my-auto px-2 col-6 text-decoration-none link-dark",to:"/".concat(t.name,"/").concat(t.id),children:Object(A.jsx)(g.a,{className:"my-2 home-cards",children:Object(A.jsxs)(g.a.Body,{className:"d-flex px-0 justify-content-around",children:[Object(A.jsx)(g.a.Text,{className:"my-auto text-decoration-none link-dark",children:j(t.id)}),Object(A.jsxs)("div",{className:"my-auto text-decoration-none d-flex flex-column link-dark d-flex",children:[Object(A.jsx)("div",{className:"my-auto mx-2",children:t.name}),Object(A.jsxs)("div",{className:"my-auto mx-2",children:[u[0]&&(100*u[0].filter((function(e){return e.user_id===i.id})).filter((function(t){return t.measure_id===e[0][0].id})).length/u[0].length).toFixed(2),"%"]})]})]})})},t.id)}))})]})},R=a(166),q=a(164),M=function(e){var t=document.querySelector(".alert");t.classList.remove("d-none"),t.classList.add("d-block"),t.innerHTML=e,setTimeout((function(){t.classList.add("d-none"),t.classList.remove("d-block")}),3e3)},D=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.parse(localStorage.getItem("token")),e.next=4,j.a.delete("https://cryptic-falls-25172.herokuapp.com/users/sign_out",{headers:{"Content-Type":"application/json",Authorization:a}});case 4:localStorage.setItem("token",JSON.stringify("")),localStorage.setItem("user",JSON.stringify([])),localStorage.setItem("valid",JSON.stringify("invalid")),t.push("/login"),M("You are logged out"),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(0),(n=document.querySelector(".alert")).classList.remove("d-none"),n.classList.add("d-block"),n.innerHTML="Something wenr wrong",setTimeout((function(){n.classList.add("d-none"),n.classList.remove("d-block")}),3e3);case 18:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),U=(a(133),function(){var e=Object(h.g)(),t=JSON.parse(localStorage.getItem("token"));return Object(A.jsx)(R.a,{className:"nav d-flex justify-content-between",expand:"lg",children:Object(A.jsxs)(x.a,{fluid:!0,className:"d-flex justify-content-between",children:[Object(A.jsx)("h3",{className:"py-2 mx-auto text-white",children:"Track.it"}),Object(A.jsx)(R.a.Toggle,{className:"position-absolute my-3 top-0 end-0 toglle","aria-controls":"basic-navbar-nav"}),Object(A.jsx)(R.a.Collapse,{id:"basic-navbar-nav",children:t?Object(A.jsxs)(q.a,{className:"w-100 d-md-flex justify-content-md-end",children:[Object(A.jsx)(f.b,{className:"text-decoration-none mx-md-3 link-light text-center",to:"/",children:"Home"}),Object(A.jsx)(f.b,{className:"text-decoration-none mx-md-3 link-light text-center",to:"/addrecord",children:"Add Record"}),Object(A.jsx)("button",{className:"logout-btn text-decoration-none mx-md-3 text-center",type:"submit",onClick:function(){return D(e)},children:"Log out"})]}):Object(A.jsxs)(q.a,{className:"me-auto",children:[Object(A.jsx)(f.b,{className:"text-decoration-none link-light",to:"/",children:"Home"}),Object(A.jsx)(f.b,{className:"text-decoration-none link-light",to:"/login",children:"Login"}),Object(A.jsx)(f.b,{className:"text-decoration-none link-light",to:"/signup",children:"Sign Up"})]})})]})})}),B=(a(85),function(e){return{type:"CREATE_USER",user:e}}),G=function(e){var t=e.setUser,a=Object(n.useState)(""),r=Object(d.a)(a,2),c=r[0],s=r[1],l=Object(n.useState)(""),b=Object(d.a)(l,2),m=b[0],p=b[1],x=Object(h.g)(),O=Object(o.b)(),g=function(){var e=Object(u.a)(i.a.mark((function e(a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,j.a.post("https://cryptic-falls-25172.herokuapp.com/users/sign_in",{user:{email:c,password:m}});case 4:n=e.sent,localStorage.setItem("valid",JSON.stringify("valid")),localStorage.setItem("token",JSON.stringify(n.headers.authorization)),localStorage.setItem("user",JSON.stringify(n.data.user)),t(n.data.user),x.push("/"),M("Logged in successfully"),O(B(n.data.user)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),M("Something went wrong");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),v=JSON.parse(localStorage.getItem("token")),N=JSON.parse(localStorage.getItem("valid"));return v&&"valid"===N?Object(A.jsx)(h.a,{to:"/login"}):Object(A.jsx)("div",{className:"login-div cont",children:Object(A.jsxs)("form",{onSubmit:g,className:"my-5 d-flex flex-column  col-10 col-md-8 mx-auto p-5",children:[Object(A.jsxs)("label",{htmlFor:"email1",className:"col-form-label my-2 d-flex flex-column",children:["Email",Object(A.jsx)("input",{onChange:function(e){return s(e.target.value)},name:"email1",id:"email1",className:"my-3",type:"email",placeholder:"email",required:!0})]}),Object(A.jsxs)("label",{htmlFor:"password",className:"col-form-label my-2 d-flex flex-column",children:["Password",Object(A.jsx)("input",{onChange:function(e){return p(e.target.value)},name:"password",className:"my-3",type:"password",placeholder:"password",required:!0})]}),Object(A.jsx)("button",{className:"my-2 btn btndark",type:"submit",children:"Log in"}),Object(A.jsx)(f.b,{className:"text-decoration-none link-dark",to:"/signup",children:"Sign Up"})]})})};G.defaultProps={setUser:function(){}};var V=G,F=function(e){var t=e.setUser,a=Object(n.useState)(""),r=Object(d.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(""),l=Object(d.a)(o,2),b=l[0],m=l[1],p=Object(h.g)();if(JSON.parse(localStorage.getItem("token")))return Object(A.jsx)(h.a,{to:"/"});var x=function(){var e=Object(u.a)(i.a.mark((function e(a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,j.a.post("https://cryptic-falls-25172.herokuapp.com/users",{user:{email:c,password:b}});case 4:n=e.sent,localStorage.setItem("token",JSON.stringify(n.headers.authorization)),localStorage.setItem("user",JSON.stringify(n.data.user)),t(n.data.user),p.push("/"),M("Signed up successfully"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),M("Something went wrong");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)("div",{className:"signup-div cont",children:Object(A.jsxs)("form",{onSubmit:x,className:"my-5 d-flex flex-column  col-10 col-md-8 mx-auto p-5",children:[Object(A.jsxs)("label",{htmlFor:"email",className:"col-form-label my-2 d-flex flex-column",children:["Email",Object(A.jsx)("input",{onChange:function(e){return s(e.target.value)},name:"email",className:"my-3",type:"email",placeholder:"email",required:!0})]}),Object(A.jsxs)("label",{htmlFor:"password",className:"col-form-label my-2 d-flex flex-column",children:["Password",Object(A.jsx)("input",{onChange:function(e){return m(e.target.value)},name:"password",className:"my-3",type:"password",placeholder:"password",required:!0})]}),Object(A.jsx)("button",{className:"my-2 btn btndark",type:"submit",children:"Sign up"}),Object(A.jsx)(f.b,{className:"text-decoration-none link-dark",to:"/login",children:"Login"})]})})};F.defaultProps={setUser:function(){}};var H=F,Q=a(22),Y=a.n(Q),P=a(159),K=a(46),z=a.n(K),X=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),l=Object(d.a)(s,2),b=l[0],j=l[1],m=Object(n.useState)([]),p=Object(d.a)(m,2),v=p[0],N=p[1],y=JSON.parse(localStorage.getItem("user")),S=Object(h.h)(),k=S.id,w=S.name,J=r.a.useState(null),L=Object(d.a)(J,2),I=L[0],C=L[1],E=Object(o.c)((function(e){return e.measurments})),R=Y()(new Date),q=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===E[0]){e.next=15;break}return e.prev=1,e.next=4,E[0].filter((function(e){return e.user_id===y.id&&e.measure_id===Number(k)}));case 4:t=e.sent,a=t.reduce((function(e,t){return e+t.number}),0),C("NaN"!==(a/t.length).toFixed(2)?(a/t.length).toFixed(2):0),c(t.filter((function(e){return Number(Y.a.duration(R.diff(Y()(e.created_at).format("L"))).asDays())<1}))),j(t.filter((function(e){return Math.floor(Number(Y.a.duration(R.diff(Y()(e.created_at).format("L"))).asDays()))>=1&&Math.floor(Number(Y.a.duration(R.diff(Y()(e.created_at).format("L"))).asDays()))<2}))),N(t.filter((function(e){return Math.floor(Number(Y.a.duration(R.diff(e.created_at)).asDays()))>2}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),M("Server problem");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){q()}),[E]);var D=JSON.parse(localStorage.getItem("token")),U=JSON.parse(localStorage.getItem("valid"));return D&&"invalid"!==U?Object(A.jsxs)(x.a,{className:"cont",children:[Object(A.jsx)("h1",{className:"mx-auto text-center",children:"Measurments"}),Object(A.jsx)(T,{number:null===I?0:I,time:w}),Object(A.jsxs)(O.a,{children:[a.length>0&&Object(A.jsx)("h5",{children:"Today:"}),a.length>0&&a.map((function(e){return Object(A.jsx)(f.b,{className:"my-auto text-decoration-none",to:"/".concat(w,"/show/").concat(e.id),children:Object(A.jsx)(g.a,{className:"my-2",children:Object(A.jsxs)(g.a.Body,{className:"d-flex justify-content-between",children:[Object(A.jsx)(P.a,{variant:"determinate",value:e.number}),Object(A.jsx)(z.a,{className:"text-dark",format:"LL",children:e.created_at}),Object(A.jsxs)(g.a.Text,{className:"my-auto text-decoration-none link-dark",children:[e.number," ",w.charAt(0).toUpperCase()+w.slice(1)]})]})})},e.id)})),b.length>0&&Object(A.jsx)("h5",{children:"Yesterday"}),b.length>0&&b.map((function(e){return Object(A.jsx)(f.b,{className:"my-auto text-decoration-none",to:"/".concat(w,"/show/").concat(e.id),children:Object(A.jsx)(g.a,{className:"my-2",children:Object(A.jsxs)(g.a.Body,{className:"d-flex justify-content-between",children:[Object(A.jsx)(P.a,{variant:"determinate",value:e.number}),Object(A.jsx)(z.a,{className:"text-dark",format:"LL",children:e.created_at}),Object(A.jsxs)(g.a.Text,{className:"my-auto text-decoration-none link-dark",children:[e.number," ",w.charAt(0).toUpperCase()+w.slice(1)]})]})})},e.id)})),v.length>0&&Object(A.jsx)("h5",{children:"Last week and before"}),v.length>0&&v.map((function(e){return Object(A.jsx)(f.b,{className:"my-auto text-decoration-none",to:"/".concat(w,"/show/").concat(e.id),children:Object(A.jsx)(g.a,{className:"my-2",children:Object(A.jsxs)(g.a.Body,{className:"d-flex justify-content-between",children:[Object(A.jsx)(P.a,{variant:"determinate",value:e.number}),Object(A.jsx)(z.a,{className:"text-dark",format:"LL",children:e.created_at}),Object(A.jsxs)(g.a.Text,{className:"my-auto text-decoration-none link-dark",children:[e.number," ",w.charAt(0).toUpperCase()+w.slice(1)]})]})})},e.id)}))]})]}):Object(A.jsx)(h.a,{to:"/login"})},Z=a(163),W=a(160),_=function(e){return{type:"INCREMENT",count:e}},$=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),s=Object(d.a)(c,2),l=s[0],b=s[1],m=Object(h.g)(),p=Object(h.h)().id,f=Object(h.h)().name,g=Object(o.c)((function(e){return e.measurments})),v=Object(o.b)(),N=Object(o.c)((function(e){return e.count})),y=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==g[0]&&r(g[0].filter((function(e){return e.id===Number(p)}))[0]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=Y()(new Date),r={measure_id:a.measure_id,number:l,date:n},t.preventDefault(),e.prev=4,e.next=7,j.a.put("https://cryptic-falls-25172.herokuapp.com/measurments/".concat(p),{measurment:r});case 7:v(_(N)),m.push("/"),M("Record edited successfully"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),M("Server problem");case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){y()}),[g[0]]);var k=JSON.parse(localStorage.getItem("token")),w=JSON.parse(localStorage.getItem("valid"));return k&&"invalid"!==w?Object(A.jsx)(x.a,{className:"cont",children:Object(A.jsxs)(O.a,{children:[Object(A.jsx)("h1",{className:"text-center",children:f}),a&&Object(A.jsxs)(Z.a,{onSubmit:S,children:[Object(A.jsxs)(Z.a.Group,{className:"mb-3",controlId:"formBasicNumber",children:[Object(A.jsx)(Z.a.Label,{children:"Number"}),Object(A.jsx)(Z.a.Control,{defaultValue:a.number,onChange:function(e){return b(e.target.value)},type:"number",placeholder:"Enter Number",required:!0})]}),Object(A.jsx)(W.a,{className:"w-100 btn-info",type:"submit",children:"Submit"})]})]})}):Object(A.jsx)(h.a,{to:"/login"})},ee=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(h.h)().id,s=Object(h.h)().name,l=Object(h.g)(),b=Object(n.useState)(0),m=Object(d.a)(b,2),p=m[0],v=m[1],N=Object(o.b)(),y=Object(o.c)((function(e){return e.count}));Object(n.useEffect)((function(){return function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://cryptic-falls-25172.herokuapp.com/measurments/".concat(c));case 3:t=e.sent,r(t.data),v(t.data.number),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),M("Server problem");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()(),function(){r([])}}),[c]);var S=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("https://cryptic-falls-25172.herokuapp.com/measurments/".concat(c));case 3:N(_(y)),l.push("/"),M("Record deleted successfully"),r([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),M("Server problem");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(x.a,{className:"cont",children:[Object(A.jsx)(T,{number:p,time:"Today"}),Object(A.jsxs)(O.a,{children:[Object(A.jsx)("h1",{className:"text-center",children:a.id&&s}),a.id&&Object(A.jsxs)("div",{children:[Object(A.jsx)(f.b,{className:"my-auto text-decoration-none",to:"/".concat(a.name,"/edit/").concat(a.id),children:Object(A.jsx)(g.a,{children:Object(A.jsxs)(g.a.Body,{className:"d-flex justify-content-between",children:[Object(A.jsx)(P.a,{variant:"determinate",value:a.number}),Object(A.jsx)(z.a,{className:"text-dark",format:"LL",children:a.created_at}),Object(A.jsxs)(g.a.Text,{className:"my-auto text-decoration-none link-dark",children:[a.number," ",s.charAt(0).toUpperCase()+s.slice(1)]})]})})},a.id),Object(A.jsx)("button",{type:"button",onClick:S,className:"btn btn-danger my-3 w-100",children:"Delete"})]})]})]})},te=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),s=Object(d.a)(c,2),l=s[0],b=s[1],m=Object(h.g)(),p=Object(o.b)(),f=Object(o.c)((function(e){return e.count})),x=JSON.parse(localStorage.getItem("user")),O=Object(o.c)((function(e){return e.measure})),g=Object(o.c)((function(e){return e.measurments}));Object(n.useEffect)((function(){}),[]);var v=JSON.parse(localStorage.getItem("token")),N=JSON.parse(localStorage.getItem("valid"));if(!v||"invalid"===N)return Object(A.jsx)(h.a,{to:"/login"});var y=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,c,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=[],r=[],g[0].filter((function(e){return e.measure_id===Number(l)&&e.user_id===x.id})).map((function(e){n.push(e.measure_id),r.push(Y()(e.created_at).format("L"))})),!n.includes(Number(l))||!r.includes(Y()(new Date).format("L"))){e.next=13;break}(c=document.querySelector(".alert")).classList.remove("d-none"),c.classList.add("d-block"),c.innerHTML="Record for today already exists",setTimeout((function(){c.classList.add("d-none"),c.classList.remove("d-block")}),3e3),e.next=26;break;case 13:return s=Y()(new Date),o={measure_id:l,number:a,user_id:x.id,date:s},e.prev=15,e.next=18,j.a.post("https://cryptic-falls-25172.herokuapp.com/measurments",{measurment:o});case 18:p(_(f)),m.push("/"),M("Record created successfuly"),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(15),M("Server problem");case 26:case"end":return e.stop()}}),e,null,[[15,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)(Z.a,{className:"cont",onSubmit:y,children:[Object(A.jsxs)(Z.a.Group,{className:"mb-3",controlId:"formBasicNumber",children:[Object(A.jsx)(Z.a.Label,{children:"Number"}),Object(A.jsx)(Z.a.Control,{onChange:function(e){return r(e.target.value)},type:"number",placeholder:"Enter Number",required:!0})]}),Object(A.jsxs)(Z.a.Select,{onChange:function(e){return b(Number(e.target.value))},required:!0,children:[Object(A.jsx)("option",{children:"Choose one"}),O[0]&&O[0].map((function(e){return Object(A.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(A.jsx)("button",{className:"btn btn-dark w-100 my-3",type:"submit",children:"Submit"})]})},ae=a(161),ne=a(165),re=a(98),ce=a.n(re),se=a(97),oe=a.n(se),le=a(99),ie=a.n(le),ue=a(100),de=a.n(ue);var be=function(){var e=r.a.useState(1),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(h.g)();return Object(n.useEffect)((function(){var e=document.querySelector(".parent"),t=Array.from(e.getElementsByTagName("button")),n=function(){return t.filter((function(e){return e.classList.contains("activee")})).map((function(e){return e.classList.remove("activee")}))};0===a?(s.push("/addrecord"),n(),t[0].classList.add("activee")):1===a?(s.push("/"),n(),t[1].classList.add("activee")):2===a?(s.push("/progress"),n(),t[2].classList.add("activee")):3===a&&(s.push("/profile"),n(),t[3].classList.add("activee"))}),[a,s]),Object(A.jsxs)(ae.a,{value:a,onChange:function(e,t){c(t)},showLabels:!0,className:"bg-dark parent",children:[Object(A.jsx)(ne.a,{className:"text-light mx-0",label:"Add Record",to:"/addrecoerd",icon:Object(A.jsx)(oe.a,{})}),Object(A.jsx)(ne.a,{className:"text-light mx-0",label:"Track it",icon:Object(A.jsx)(ce.a,{})}),Object(A.jsx)(ne.a,{className:"text-light mx-0",label:"Progress",icon:Object(A.jsx)(ie.a,{})}),Object(A.jsx)(ne.a,{className:"text-light mx-0",label:"More",icon:Object(A.jsx)(de.a,{})})]})},je=a(162),me=function(){var e=Object(o.c)((function(e){return e.user})),t=JSON.parse(localStorage.getItem("token")),a=JSON.parse(localStorage.getItem("valid"));return t&&"invalid"!==a?Object(A.jsx)(je.a,{className:"cont bg-light",children:Object(A.jsx)(k.a,{children:Object(A.jsxs)(O.a,{className:"mx-auto d-flex flex-column align-content-center",lg:6,children:[Object(A.jsx)("img",{className:"user-image mx-auto my-2",src:e&&e.image_data&&e.image_data.metadata.cloudinary.secure_url||"data:image/png;base64,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",alt:"avatar"}),Object(A.jsx)("h1",{className:"text-dark text-center",children:"null"!==e.name?e.name:"Stranger"}),Object(A.jsx)("p",{className:" text-center",children:"null"!==e.bio?e.bio:"Not available"}),Object(A.jsx)("p",{className:" text-center",children:"null"!==e.about?e.about:"Not available"}),Object(A.jsx)(f.b,{className:"btn btn-light",to:"/editprofile",children:"Edit profile"})]})})}):Object(A.jsx)(h.a,{to:"/login"})},pe=function(){var e=Object(o.c)((function(e){return e.user})),t=Object(n.useState)(e.bio),a=Object(d.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(e.name),l=Object(d.a)(s,2),b=l[0],m=l[1],p=Object(n.useState)(e.about),f=Object(d.a)(p,2),x=f[0],O=f[1],g=Object(n.useState)(null),v=Object(d.a)(g,2),N=v[0],y=v[1],S=Object(n.useState)(null),k=Object(d.a)(S,2),w=k[0],J=k[1],L=Object(h.g)(),I=JSON.parse(localStorage.getItem("token")),C=JSON.parse(localStorage.getItem("valid"));if(!I||"invalid"===C)return Object(A.jsx)(h.a,{to:"/login"});var T=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("user[name]",b),a.append("user[bio]",r),a.append("user[about]",x),a.append("user[current_password]",w),N&&a.append("user[image]",N),n={"Content-Type":"multipart/form-data",Authorization:I},e.prev=8,e.next=11,j.a.put("https://cryptic-falls-25172.herokuapp.com/users",a,{headers:n});case 11:c=e.sent,localStorage.setItem("correctuser",JSON.stringify(c.data)),L.push("/"),M("Profile updated"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)(je.a,{className:"cont",children:Object(A.jsxs)(Z.a,{className:"cont",onSubmit:T,children:[Object(A.jsxs)(Z.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(A.jsx)(Z.a.Label,{children:"Name"}),Object(A.jsx)(Z.a.Control,{onChange:function(e){return m(e.target.value)},type:"text",defaultValue:e.name,placeholder:"Enter Name",maxLength:"100"})]}),Object(A.jsxs)(Z.a.Group,{className:"mb-3",controlId:"formBasicBio",children:[Object(A.jsx)(Z.a.Label,{children:"Bio"}),Object(A.jsx)(Z.a.Control,{onChange:function(e){return c(e.target.value)},type:"text",defaultValue:e.bio,placeholder:"Enter Bio",maxLength:"140"})]}),Object(A.jsxs)(Z.a.Group,{className:"mb-3",controlId:"formBasicBio",children:[Object(A.jsx)(Z.a.Label,{children:"About"}),Object(A.jsx)(Z.a.Control,{onChange:function(e){return O(e.target.value)},as:"textarea",defaultValue:e.about,placeholder:"About you",maxLength:"500"})]}),Object(A.jsxs)(Z.a.Group,{className:"mb-3",controlId:"formBasicBio",children:[Object(A.jsx)(Z.a.Label,{children:"Image"}),Object(A.jsx)(Z.a.Control,{onChange:function(e){return y(e.target.files[0])},type:"file"})]}),Object(A.jsxs)(Z.a.Group,{className:"mb-3",controlId:"formBasicBio",children:[Object(A.jsx)(Z.a.Label,{children:"Current Password"}),Object(A.jsx)(Z.a.Control,{onChange:function(e){return J(e.target.value)},type:"password",placeholder:"password",maxLength:"500",required:!0})]}),Object(A.jsx)("button",{className:"btn btn-dark w-100 my-3",type:"submit",children:"Submit"})]})})},fe=function(e){var t=e.user,a=e.setUser;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(f.a,{children:[Object(A.jsx)(U,{setUser:a}),Object(A.jsx)(p.a,{className:"alert d-none my-1",variant:"danger"}),Object(A.jsxs)("div",{className:"cont",children:[Object(A.jsxs)(h.d,{children:[Object(A.jsx)(h.b,{path:"/signup",render:function(e){return Object(A.jsx)(H,Object(m.a)(Object(m.a)({},e),{},{user:t,setUser:a}))}}),Object(A.jsx)(h.b,{exact:!0,path:"/login",render:function(e){return Object(A.jsx)(V,Object(m.a)(Object(m.a)({},e),{},{user:t,setUser:a}))}}),Object(A.jsx)(h.b,{path:"/addrecord",component:te}),Object(A.jsx)(h.b,{path:"/:name/edit/:id",component:$}),Object(A.jsx)(h.b,{path:"/:name/show/:id",component:ee}),Object(A.jsx)(h.b,{path:"/:name/:id",component:X}),Object(A.jsx)(h.b,{path:"/editprofile",component:pe}),Object(A.jsx)(h.b,{path:"/profile",render:function(e){return Object(A.jsx)(me,Object(m.a)({},e))}}),Object(A.jsx)(h.b,{path:"/",render:function(e){return Object(A.jsx)(E,Object(m.a)({},e))}})]}),Object(A.jsx)(be,{})]})]})})};fe.defaultProps={user:null};var he=fe;var xe=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],r=t[1],c=JSON.parse(localStorage.getItem("token")),s=Object(o.b)(),l=Object(o.c)((function(e){return e.count})),b=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===c){e.next=11;break}return e.prev=1,e.next=4,j.a.get("https://cryptic-falls-25172.herokuapp.com/measurments");case 4:t=e.sent,s({type:"MEASUREMENTS",measurements:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),M("Server problem");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[l]),Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===c){e.next=11;break}return e.prev=1,e.next=4,j.a.get("https://cryptic-falls-25172.herokuapp.com/measures");case 4:t=e.sent,s({type:"MEASURE",measure:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),M("Server problem");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===c){e.next=14;break}return e.prev=1,e.next=4,j.a.get("https://cryptic-falls-25172.herokuapp.com/member",{headers:{"Content-Type":"application/json",Authorization:c}});case 4:t=e.sent,localStorage.setItem("correctuser",JSON.stringify(t.data.user)),s(B(t.data.user)),localStorage.setItem("valid",JSON.stringify("valid")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),localStorage.setItem("valid",JSON.stringify("invalid")),M("Server problem");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(he,{user:a,setUser:r})})},Oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,169)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},ge=a(73),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_USER":return Object(m.a)(Object(m.a)({},e),t.user);case"DELETE_USER":return{};default:return e}},Ne=Object(ge.a)({user:ve,measure:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MEASURE":return[t.measure];default:return e}},measurments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MEASUREMENTS":return[t.measurements];default:return e}},count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return e+1;default:return e}}}),ye=Object(ge.b)(Ne);s.a.render(Object(A.jsx)(o.a,{store:ye,children:Object(A.jsx)(xe,{})}),document.getElementById("root")),Oe()},85:function(e,t,a){}},[[137,1,2]]]);
//# sourceMappingURL=main.082b1ecb.chunk.js.map